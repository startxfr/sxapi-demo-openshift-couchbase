{
    "name": "sxapi-demo-openshift-couchbase-bot-streamer",
    "description": "Bot streamer service for the sxapi openshift couchbase demo (dev)",
    "version": "0.1.11",
    "debug": true,
    "resources": {
        "serviceinfo": {
            "_class": "serviceinfo"
        },
        "couchbase-api": {
            "_class": "couchbase",
            "cluster": "http://db:8091",
            "bucket": "demo",
            "user": "Administrator",
            "password": "Administrator123$",
            "xxxcluster": "http://{{{COUCHBASE_SERVICE_HOST}}}:8091",
            "xxxbucket": "{{{COUCHBASE_BUCKET}}}",
            "xxxuser": "{{{COUCHBASE_USER}}}",
            "xxxpassword": "{{{COUCHBASE_PASSWORD}}}"
        },
        "twitter": {
            "_class": "twitter",
            "consumer_key": "xxxxxxxxxxxxx",
            "consumer_secret": "xxxxxxxxxxxxx",
            "access_token_key": "xxxxxxxxxxxxx-xxxxxxxxxxxxx",
            "access_token_secret": "xxxxxxxxxxxxx"
        }
    },
    "log": {
        "filters": {
            "level": "0,1,2,3,4",
            "type": "debug,info,error,warn"
        },
        "couchbase": {
            "resource": "couchbase-api",
            "eventName": "application:log"
        }
    },
    "server": {
        "endpoints": [
            {
                "path": "/health",
                "resource": "serviceinfo",
                "endpoint": "health"
            }
        ]
    },
    "bot": {
        "lib": "./mylib",
        "cron": [
            {
                "id": "test-cront-task",
                "name": "Execute test cron task",
                "schedule": "*/1 * * * *",
                "task": "myCronFunction"
            }
        ],
        "readers": {
            "twitter": [
                {
                    "resource": "twitter",
                    "filters": [
                        {
                            "id": "test-twitter-startx",
                            "match": "#paris",
                            "task": "myTwitterFunction",
                            "outputResource": "couchbase-api",
                            "tweetKeyPrefix": "tweet::",
                            "userKeyPrefix": "twittos::"
                        },
                        {
                            "id": "test-twitter-startx",
                            "match": "#london",
                            "task": "myTwitterFunction",
                            "outputResource": "couchbase-api",
                            "tweetKeyPrefix": "tweet::",
                            "userKeyPrefix": "twittos::"
                        },
                        {
                            "id": "test-twitter-startx",
                            "match": "#Capital",
                            "task": "myTwitterFunction",
                            "outputResource": "couchbase-api",
                            "tweetKeyPrefix": "tweet::",
                            "userKeyPrefix": "twittos::"
                        }
                    ]
                }
            ]
        }
    }
}
